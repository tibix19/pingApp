<Window x:Class="pingApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:pingApp"
        mc:Ignorable="d"
        Closing="Application_Exit"
        Title="MainWindow" Height="390" Width="750">
    <Grid Background="Beige" Margin="0,0,0,-6">
        <!-- Légende des couleurs -->
        <TextBox Background="Green" HorizontalAlignment="Left" Margin="19,21,0,0" FontSize="9" VerticalAlignment="Top" Height="16" Width="28" Text=" VPN" RenderTransformOrigin="-0.4,0.284"></TextBox>
        <TextBox Background="LightGreen" HorizontalAlignment="Left" Margin="52,21,0,0" FontSize="9" VerticalAlignment="Top" Height="16" Width="28" Text=" LAN" RenderTransformOrigin="-0.4,0.284"></TextBox>
        <TextBox Background="LightBlue" HorizontalAlignment="Left" Margin="85,21,0,0" FontSize="9" VerticalAlignment="Top" Height="16" Width="28" Text=" WIFI" RenderTransformOrigin="-0.4,0.284"></TextBox>
        <TextBox Background="LightCoral" HorizontalAlignment="Left" Margin="118,21,0,0" FontSize="9" VerticalAlignment="Top" Height="16" Width="41" Text="No Conn" RenderTransformOrigin="-0.4,0.284"></TextBox>

        <!-- Champs de saisie pour le poste et le ticket -->
        <TextBox x:Name="textbox_hos" HorizontalAlignment="Left" Margin="69,125,0,0" TextWrapping="Wrap" FontSize="17" VerticalAlignment="Top" Width="144" Height="26" Text="{Binding SelectedPost.Post, UpdateSourceTrigger=PropertyChanged}"/>
        <TextBox x:Name="textbox_ticket" HorizontalAlignment="Left" Margin="69,172,0,0" TextWrapping="Wrap" FontSize="17" VerticalAlignment="Top" Width="144" Height="26" Text="{Binding SelectedPost.Ticket, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- Labels pour les champs de saisie -->
        <TextBlock HorizontalAlignment="Left" Margin="19,125,0,0" TextWrapping="Wrap" FontSize="16" VerticalAlignment="Top" Height="26" Width="50"><Run Language="fr-ch" Text="Post"/></TextBlock>
        <TextBlock HorizontalAlignment="Left" Margin="16,172,0,0" TextWrapping="Wrap" FontSize="16" VerticalAlignment="Top" Height="29" Width="53"><Run Language="fr-ch" Text="Ticket"/></TextBlock>

        <!-- DataGrid pour afficher la liste des postes -->
        <DataGrid x:Name="datagrid" ItemsSource="{Binding PostList_search}" SelectedItem="{Binding SelectedPost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Margin="260,61,22,23" AutoGenerateColumns="False" SelectionUnit="FullRow" FontSize="14" IsReadOnly="true">
            <DataGrid.Columns>
                <DataGridTextColumn x:Name="Post" Binding="{Binding Post}" Header="Post" Width="*" />
                <DataGridTextColumn x:Name="IPAddress" Binding="{Binding IPAddress}" Header="IP" Width="*" />
                <DataGridTextColumn x:Name="Ticket" Binding="{Binding Ticket}" Header="Ticket" Width="*" />
            </DataGrid.Columns>
            <DataGrid.RowStyle>
                <Style TargetType="DataGridRow">
                    <Style.Triggers>
                        <!-- Définition des couleurs de fond en fonction du statut de ping -->
                        <DataTrigger Binding="{Binding IsPingSuccessful}" Value="Lan">
                            <Setter Property="Background" Value="LightGreen"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsPingSuccessful}" Value="Wifi">
                            <Setter Property="Background" Value="LightBlue"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsPingSuccessful}" Value="VPN">
                            <Setter Property="Background" Value="DarkGreen"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsPingSuccessful}" Value="False">
                            <Setter Property="Background" Value="LightCoral"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.RowStyle>
        </DataGrid>

        <!-- Boutons pour les actions -->
        <Button x:Name="btn_submit" Content="Add" HorizontalAlignment="Left" Margin="16,232,0,0" VerticalAlignment="Top" FontSize="18" Height="36" Width="68" Click="BtnAdd" FontWeight="Normal"/>
        <Button x:Name="btn_delete" Content="Delete" HorizontalAlignment="Left" Margin="89,232,0,0" VerticalAlignment="Top" FontSize="18" Height="36" Width="72" Click="BtnDelete" FontWeight="Normal"/>
        <Button x:Name="btn_clear" Content="Refresh" HorizontalAlignment="Left" Margin="166,232,0,0" VerticalAlignment="Top" FontSize="18" Height="36" Width="67" Click="BtnClear" FontWeight="Normal"/>

        <!-- Champ de recherche -->
        <TextBox x:Name="textbox_search" Text="{Binding Search , Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Margin="342,21,22,0" VerticalAlignment="Top" Height="30" FontSize="18" />
        <TextBlock HorizontalAlignment="Left" Margin="260,21,0,0" VerticalAlignment="Top" Height="30" Width="77"><Run Language="fr-ch" Text="Search : " FontSize="18"/></TextBlock>
        
    </Grid>
</Window>
